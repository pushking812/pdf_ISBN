# Исправление кодировки терминала для поддержки эмодзи

## Проблема
Ошибка `UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f50d'` возникает из-за того, что терминал Windows по умолчанию использует кодировку cp1251, которая не поддерживает эмодзи.

## Решение: изменить кодировку терминала на UTF-8

### Вариант 1: Вручную перед запуском (рекомендуется)
1. Откройте терминал (PowerShell или Command Prompt)
2. Выполните команду:
   ```powershell
   chcp 65001
   ```
3. Запустите программу:
   ```powershell
   py .\main.py _books
   ```

### Вариант 2: Автоматически в коде Python
Добавить в начало `main.py` (после импортов):
```python
import sys
import io

if sys.platform == "win32":
    # Устанавливаем кодировку stdout/stderr в UTF-8
    sys.stdout = io.TextIOWrapper(sys.stdout.buffer, encoding='utf-8', errors='replace')
    sys.stderr = io.TextIOWrapper(sys.stderr.buffer, encoding='utf-8', errors='replace')
```

### Вариант 3: Использовать `sys.stdout.reconfigure()` (Python 3.7+)
```python
import sys

if sys.platform == "win32":
    sys.stdout.reconfigure(encoding='utf-8', errors='replace')
    sys.stderr.reconfigure(encoding='utf-8', errors='replace')
```

### Вариант 4: Настройка PowerShell по умолчанию
Создать профиль PowerShell:
```powershell
# Создать профиль, если его нет
if (!(Test-Path -Path $PROFILE)) {
    New-Item -ItemType File -Path $PROFILE -Force
}

# Добавить в профиль
Add-Content -Path $PROFILE -Value "`$OutputEncoding = [System.Text.Encoding]::UTF8"
Add-Content -Path $PROFILE -Value "[Console]::OutputEncoding = [System.Text.Encoding]::UTF8"
Add-Content -Path $PROFILE -Value "chcp 65001"
```

## Рекомендации

### Для текущего запуска:
1. **Самый простой способ**: выполнить `chcp 65001` в терминале перед запуском
2. **Проверить результат**: после изменения кодировки запустить `py .\main.py _books`

### Для постоянного решения:
1. **Добавить исправление в код** (Вариант 2 или 3) - это решит проблему для всех пользователей
2. **Использовать шрифт, поддерживающий эмодзи** в терминале (Cascadia Code, Consolas с поддержкой эмодзи)

## Тестирование
После применения любого из решений:
1. Запустите `py .\main.py _books`
2. Убедитесь, что:
   - Ошибка UnicodeEncodeError не возникает
   - Эмодзи отображаются корректно (или заменяются на допустимые символы)
   - Программа работает полностью

## Примечание
Если после `chcp 65001` эмодзи отображаются как квадратики, это означает, что шрифт терминала не поддерживает эмодзи. В этом случае можно:
1. Либо заменить эмодзи на текстовые символы в коде
2. Либо изменить шрифт терминала на поддерживающий эмодзи

## Быстрое решение прямо сейчас
Выполните в терминале:
```powershell
chcp 65001
py .\main.py _books