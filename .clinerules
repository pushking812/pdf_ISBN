# ПРАВИЛА РАБОТЫ (ЭКОНОМИЯ И КАЧЕСТВО)
- **Минимализм:** Всегда стремись к минимальному количеству изменений. Если можно решить задачу, изменив 1 строку, не меняй 10.
- **Язык общения и комментариев в коде:** Всегда используй русский язык для комментариев и сообщений в терминале.
- **Проверка перед действием:** Перед созданием новых файлов или рефакторингом всегда проверяй в режиме PLAN, нет ли уже готового решения в проекте.
- **Python-стиль:** Используй аннотации типов (Type Hinting) и следуй PEP 8.
- **Запрет на чтение:** Никогда не читай файлы >50KB без моего одобрения.
- **Терминал:** Сначала проверяй наличие зависимостей (pip list), прежде чем пытаться их устанавливать.
- **Архитектура:** Если задача требует изменения более 3 файлов, сначала опиши архитектурную схему в чате.
- **Режим планирования (Plan/Architect):** Всегда начинай более менее сложные задачи в режиме Plan/Architect. Сначала проанализируй структуру, опиши шаги и получи "Approve" пользователя, прежде чем переходить в режим Act/Code.
- **Принцип DIFF и целостность функций:** Для файлов длиннее 200 строк используй инструменты частичной замены (`replace_lines` или `patch`) вместо перезаписи всего файла. 
  *ВАЖНО:* Никогда не присылай "огрызки" кода с комментариями "# ... остальной код". Заменяемый блок должен содержать измененную функцию, метод или класс ПОЛНОСТЬЮ, чтобы сохранить синтаксическую целостность.
- **Верификация кода:** После каждой правки в Python-файлах автоматически запускай `ruff check .` (или `python -m py_compile [file_name]`). Если найдены ошибки — исправляй их немедленно, не завершая задачу.
- **Работа с терминалом:** Если команда завершилась с ошибкой, не пытайся угадать исправление — сначала прочитай последние 20 строк лога ошибки, проанализируй их и только потом предлагай решение.
- **Замена команд Git Bash** Вместо команд git bash используй команды аналоги из powershell, например 'Get-Content "файл" -Head 30', 'Get-Content "файл" -Tail 20', 'Get-Content "файл" -Wait'